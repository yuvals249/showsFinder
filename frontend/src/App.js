import React, { Component } from 'react';
import './css/App.css';
import './css/Main.css';
import './css/showPage.css';
import './css/SignInUp.css';
import './css/Profile.css'
import { observer, inject } from 'mobx-react'
import { BrowserRouter as Router, Route, Link } from "react-router-dom";
import axios from 'axios'
import Show from './components/Show'
import Search from './components/search'
import ShowPage from './components/ShowPage';
import Navbar from './components/Navbar';
import Profile from './components/Profile'
import SignInUp from './components/SignInUp'

class Pigeon extends Component{
  render(){
    return(
      <div>
        <h1 className='pigeon'>this is not a pigeon!</h1>
        <img className='img' src='data:image/jpeg;base64,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'></img>
      </div>
    )
  }
}


@inject("Filterstore", "Datastore")
@observer
class App extends Component {

  componentDidMount = async () => {
    let data = await axios.get('http://localhost:8080')
    this.props.Datastore.getdata(data.data)
    this.props.Datastore.updateStore(data.data)
  }

  render() {

    return (
      <Router>
        <div className="App">
          <Navbar/>
          <div className='mainContainer'> {this.props.Datastore.showsfilter.filter(n => n.name.includes(this.props.Filterstore.name)).map(s => <Route exact path="/" render={() => <Show show={s} />} />)}</div>
          <Route path="/inform/:show" exact render={({ match }) => <ShowPage match={match} show={this.props.Datastore.showinfo} />} />
          <Route exact path="/SignInUp" component={SignInUp}></Route>
          <Route exact path="/Profile" component={Profile}></Route>
          <Route exact path='/not-a-pigion' component={Pigeon} ></Route>
        </div>
      </Router>
    );
  }
}

export default App;